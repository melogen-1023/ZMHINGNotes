## Eureka

### 自我保护机制

当Eureka Server(注册中心)在短时间内丢失过多客户端时(可能发生了网络分区故障 : 这些客户端节点本身是正常工作的，但是由于网络通信的原因无法与注册中心通信)，那么Server就会进入自我保护模式，在该模式下，Server会保护服务注册表中的信息，不会删除任何已注册的服务，当网络故障恢复时，Server节点会自动退出自我保护模式。

```properties
eureka.server.enable-self-preservation=false 
# 禁用自我保护
```

##### 自我保护模式下Eureka的行为

* Eureka不再从注册表中移除因长时间没收到心跳而应该过期的服务
* Eureka仍然能够接受新服务的注册和查询请求，但是不会同步到其它节点上（即保证当前节点依然可用）
* 当网络稳定时，当前实例新的注册信息会被同步到其它节点

综上所述，Eureka 满足**高可用性，分区容错性**

