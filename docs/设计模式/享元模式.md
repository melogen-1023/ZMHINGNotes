## 享元模式

享元模式一般用于实现共享池

在大量重复创建类似对象时，需要创建一个共享池来提供对象

共享池应具有细粒度，可共享等特征

**对象的内部特征、外部特征**

一个对象的自身属性，不随外部条件变化而变化的称为对象的内部特征，可共享

一个对象的外界属性，随外部条件变化而变化的称为对象的外部特征，不可共享

比如对于围棋对象，该对象的内部特征是颜色（黑，白），外部特征是坐标（在棋盘上的坐标）

所以对于棋盘上所有的围棋对象，如果创建一个共享池，**这个共享池应该关注的是对象的内部特征即棋子的颜色**

所以真正需要的棋子对象实例只需要**两个**（黑白），而坐标作为外部特征，只需要在这个棋子对象基础上添加就可以了



总的来说共享池的细粒度要求的就是提取对象的内部特征，达到可共享。

通俗的说共享池就是复用那些可复用的对象

##### 共享池的实现

一般使用HashMap



##### Sample

使用享元模式来完成不同客户对网站搭建的不同要求：

客户A要求搭建博客网站

客户B要求搭建新闻网站

客户C要求搭建博客网站

客户D要求搭建新闻网站

这里网站作为一个对象，内部特征是网站的类型，外部特征是不同客户

所以共享池里存放的应该是博客网站，新闻网站这些对象



